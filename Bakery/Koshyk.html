<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<header><div class="header">
<div class="menu"><img src="bakery_2.svg" alt="Error loading image" style="height: 85px;"><a href="Card.html"><button class="m_but">Головна</button></a><a href="#"><button class="m_but">Товари</button></a><a href="Koshyk.html"><button class="m_but">Кошик</button></a><img src="user_1.svg" alt="Error loading image" style="height: 85px;"></div>
</div></header>
<div class="cart_group">
    <h1>Кошик</h1>
    
    <div class="cart-items">
        <div class="cart-item">
            <div class="item-details">
                <div class="item-name">Хліб Домашній Білий</div>
                <div class="item-price">22.45₴</div>
            </div>
            <div class="item-quantity">
                <input type="number" value="1" min="1">
            </div>
            <div class="item-total">22.45₴</div>
        </div>
    </div>
    
    <button class="checkout-btn">Оформити замовлення</button>
</div>
<footer><div class="footer"></div></footer>
<script>
function saveCart(cart) {
    localStorage.setItem('cart', JSON.stringify(cart));
}

function getCart() {
    let cart = localStorage.getItem('cart');
    return cart ? JSON.parse(cart) : [];
}

function loadCart() {
    let cart = getCart();
    let cartItemsDiv = document.querySelector('.cart-items');
    cartItemsDiv.innerHTML = '';
    if (cart.length === 0) {
        cartItemsDiv.innerHTML = '<p>Кошик порожній</p>';
        return;
    }
    cart.forEach((item, index) => {
        let itemDiv = document.createElement('div');
        itemDiv.className = 'cart-item';
        itemDiv.innerHTML = `
            <div class="item-details">
                <div class="item-name">${item.name}</div>
                <div class="item-price">${item.price}₴</div>
            </div>
            <div class="item-quantity">
                <input type="number" value="${item.quantity}" min="1" onchange="updateQuantity(${index}, this.value)">
            </div>
            <div class="item-total">${(item.price * item.quantity).toFixed(2)}₴</div>
        `;
        cartItemsDiv.appendChild(itemDiv);
    });
}

function updateQuantity(index, newQty) {
    let cart = getCart();
    cart[index].quantity = parseInt(newQty);
    saveCart(cart);
    loadCart(); // reload to update totals
}

document.querySelector('.checkout-btn').addEventListener('click', function() {
    let cart = getCart();
    if (cart.length === 0) {
        alert('Кошик порожній!');
        return;
    }
    alert('Замовлення оформлено успішно!');
    localStorage.removeItem('cart');
    loadCart();
});

loadCart();
</script>
</body>
</html>